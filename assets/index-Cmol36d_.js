(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();const it=Symbol("routerLinksData"),at=new Set;let X;const ct=n=>{if(n.indexOf("-")===-1)return n;const t=n.split("-");let e="";for(let r=0;r<t.length;r++){const o=t[r];e+=r?o.charAt(0).toUpperCase()+o.slice(1):o}return e};function M(n,t,e){const r=n.attributes;for(let o=0;o<r.length;o++){const s=r[o];if(s.name.indexOf(t)===0){const i=ct(s.name.slice(t.length));e[i]=s.value}}return e}function lt(n,t,e,r,o){let s=o[e];return typeof s=="function"&&(s=s.call(n,t,r)),s||{}}function j(n,t,e,r,o){const s=n[it].options,i=lt(n,t,r,e,s);return M(n,o,i),M(e,o,i)}function ut(n,t,e,r){const o=n.hasAttribute("active-class")?n.getAttribute("active-class"):"active";if(o){const s=X.isActive(t,e,r,n.hasAttribute("exact"));n.classList.toggle(o,s)}}function ht(n){X=n}function ft(){at.forEach(n=>{n.querySelectorAll("[route]").forEach(t=>{const e=t.getAttribute("route");if(!e)return;const r=j(n,e,t,"params","param-"),o=j(n,e,t,"query","query-");ut(t,e,r,o)})})}const pt={create:ht,done:ft},dt=(n,t,e)=>(n[t]=e,n),mt=Array.isArray,S=Object.keys,b=n=>n&&(mt(n)?n.slice(0):E({},n)),H=(n,t)=>t.reduce((e,r)=>n[r]===void 0?e:dt(e,r,n[r]),{}),F=(n,t)=>{const e=S(n);return e.length===S(t).length&&e.every(r=>t[r]===n[r])},E=Object.assign;function k(n,t,...e){if(!n){let r=0;throw new Error("Invariant Violation: "+t.replace(/%s/g,()=>e[r++]))}}function gt(n){let t=[];const e={},r={};n(function(a,l,u){let f;if(k(!r[a],'Route names must be unique, but route "%s" is declared multiple times',a),r[a]=!0,arguments.length===1&&(l={}),arguments.length===2&&typeof l=="function"&&(u=l,l={}),typeof l.path!="string"){const p=a.split(".");l.path=p[p.length-1]}u&&(t=t.concat(a),u(),f=o(),t.splice(-1)),s({name:a,path:l.path,routes:f||[],options:l})});function o(){return e[i()]||[]}function s(c){const a=i();e[a]=e[a]||[],e[a].push(c)}function i(){return t.join(".")}return o()}function Y(n){const t=[];return n.forEach(({name:e,children:r,...o})=>{if(typeof o.path!="string"){const s=e.split(".");o.path=s[s.length-1]}t.push({name:e,path:o.path,options:o,routes:r?Y(r):[]})}),t}const yt=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?+*]?)/g,wt=/[+*?]$/g,tt=/\?(.+)/,_={};function et(n,t){return n in _||(_[n]=t(n)),_[n]}function vt(n,t){return et(n,t).paramNames}function bt(n,t,e){const r=et(n,e),o=r.matcher,s=r.paramNames,i=t.match(o);if(!i)return null;const c={};return s.forEach(function(a,l){c[a]=i[l+1]&&decodeURIComponent(i[l+1])}),c}function Et(n,t){return t=t||{},n.replace(yt,function(e,r){const o=r.replace(wt,""),s=r.slice(-1);if(s==="?"||s==="*"){if(t[o]==null)return""}else k(t[o]!=null,"Missing '%s' parameter for path '%s'",o,n);let i=encodeURIComponent(t[o]);return(s==="*"||s==="+")&&(i=i.replace("%2F","/")),i})}function Rt(n,t){const e=t.match(tt);return e&&n.parse(e[1])}function Ct(n,t,e){const r=n.stringify(e,{indices:!1});return r?nt(t)+"?"+r:t}function nt(n){return n.replace(tt,"")}function Lt(n,t,e){return n.addEventListener(t,e),e}function Tt(n,t,e){return n.removeEventListener(t,e),e}class $t{constructor(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),this.location=window.location,this.history=window.history}atRoot(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root}getHash(){const t=this.location.href.match(/#(.*)$/);return t?t[1]:""}getFragment(t,e){if(t==null)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);const r=this.root.replace(Pt,"");t.indexOf(r)||(t=t.slice(r.length))}else t=this.getHash();return t.replace(B,"")}start(t={}){this.started=!0,this.options=E({root:"/"},t),this.location=this.options.location||this.location,this.history=this.options.history||this.history,this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=this._wantsPushState;const e=this.getFragment();this.root=`/${this.root}/`.replace(Ut,"/"),Lt(window,this._hasPushState?"popstate":"hashchange",this.checkUrl),this.fragment=e;const r=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(`${this.root}#${this.fragment}`),!0;this._hasPushState&&this.atRoot()&&r.hash&&(this.fragment=this.getHash().replace(B,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()}stop(){Tt(window,this._hasPushState?"popstate":"hashchange",this.checkUrl),this.started=!1}route(t,e){this.handlers.unshift({route:t,callback:e})}checkUrl(){if(this.getFragment()===this.fragment)return!1;this.loadUrl()}loadUrl(t){return t=this.fragment=this.getFragment(t),this.handlers.some(e=>{if(e.route.test(t))return e.callback(t),!0})}update(t,e){if(!this.started)return!1;(!e||e===!0)&&(e={trigger:!!e});let r=this.root+(t=this.getFragment(t||""));if(t=t.replace(Ot,""),this.fragment!==t){if(this.fragment=t,t===""&&r!=="/"&&(r=r.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else if(this._wantsHashChange)this._updateHash(this.location,t,e.replace);else return this.location.assign(r);if(e.trigger)return this.loadUrl(t)}}_updateHash(t,e,r){if(r){const o=t.href.replace(/(javascript:|#).*$/,"");t.replace(`${o}#${e}`)}else t.hash=`#${e}`}onChange(t){this.route(/^(.*?)$/,t)}hasPushState(){if(!this.started)throw new Error("only available after LocationBar.start()");return this._hasPushState}}const B=/^[#\/]|\s+$/g,Ut=/^\/+|\/+$/g,Pt=/\/$/,Ot=/#.*$/;class St{constructor(t={}){this.path=t.path||"",this.options=E({pushState:!1,root:"/"},t),this.locationBar=new $t,this.locationBar.onChange(e=>{this.handleURL(`/${e||""}`)}),this.locationBar.start(t)}getURL(){return this.path}setURL(t,e={}){this.path!==t&&(this.path=t,this.locationBar.update(t,E({trigger:!0},e)))}replaceURL(t,e={}){this.path!==t&&(this.path=t,this.locationBar.update(t,E({trigger:!0,replace:!0},e)))}onChange(t){this.changeCallback=t}formatURL(t){if(this.locationBar.hasPushState()){let e=this.options.root;return t!==""&&(e=e.replace(/\/$/,"")),e+t}else return t[0]==="/"&&(t=t.substr(1)),`#${t}`}removeRoot(t){return this.options.pushState&&this.options.root&&this.options.root!=="/"?t.replace(this.options.root,""):t}destroy(){this.locationBar.stop()}handleURL(t){this.path=t,this.changeCallback&&this.changeCallback(t)}}class xt{constructor({path:t}){this.path=t||""}getURL(){return this.path}setURL(t,e){this.path!==t&&(this.path=t,this.handleURL(this.getURL(),e))}replaceURL(t,e){this.path!==t&&this.setURL(t,e)}onChange(t){this.changeCallback=t}handleURL(t,e={}){this.path=t,e=E({trigger:!0},e),this.changeCallback&&e.trigger&&this.changeCallback(t)}removeRoot(t){return t}formatURL(t){return t}}const x="TransitionRedirected",T="TransitionCancelled";function V(n,t,e){n.middleware.forEach(r=>{r.error&&r.error(t,e)})}function Q(n){n=n||{};const t=n.router,e=t.log,r=t.logError,o=n.path,s=n.match,i=s.routes,c=s.params,a=s.pathname,l=s.query,u=n.id,f=Date.now();e("---"),e("Transition #"+u,"to",o),e("Transition #"+u,"routes:",i.map(h=>h.name)),e("Transition #"+u,"params:",c),e("Transition #"+u,"query:",l);let p,m;const g=new Promise(function(h,w){p=h,m=w});g.then(function(){e("Transition #"+u,"completed in",Date.now()-f+"ms")}).catch(function(h){h.type!==x&&h.type!==T&&(e("Transition #"+u,"FAILED"),r(h))});let N=!1;const d={id:u,prev:{routes:b(t.state.routes)||[],path:t.state.path||"",pathname:t.state.pathname||"",params:b(t.state.params)||{},query:b(t.state.query)||{}},routes:b(i),path:o,pathname:a,params:b(c),query:b(l),redirectTo:function(...h){return t.transitionTo(...h)},retry:function(){return t.transitionTo(o)},cancel:function(h){t.state.activeTransition===d&&(d.isCancelled||(t.state.activeTransition=null,d.isCancelled=!0,N=!0,h||(h=new Error(T),h.type=T),h.type===T&&e("Transition #"+u,"cancelled"),h.type===x&&e("Transition #"+u,"redirected"),t.middleware.forEach(w=>{w.cancel&&w.cancel(d,h)}),m(h)))},followRedirects:function(){return g.catch(function(h){return t.state.activeTransition?t.state.activeTransition.followRedirects():Promise.reject(h)})},then:g.then.bind(g),catch:g.catch.bind(g)};t.middleware.forEach(h=>{h.before&&h.before(d)});function D(h,w){let P,O;if(!N)if(h<t.middleware.length){P=t.middleware[h],O=P.name||"anonymous",e("Transition #"+u,"resolving middleware:",O);let R;try{R=P.resolve?P.resolve(d,w):w,k(d!==R,"Middleware %s returned a transition which resulted in a deadlock",O)}catch(v){return t.state.activeTransition=null,V(t,d,v),m(v)}Promise.resolve(R).then(function(v){D(h+1,v)}).catch(function(v){e("Transition #"+u,"resolving middleware:",O,"FAILED"),t.state.activeTransition=null,V(t,d,v),m(v)})}else t.state={activeTransition:null,routes:i,path:o,pathname:a,params:c,query:l},t.middleware.forEach(R=>{R.done&&R.done(d)}),p()}return n.noop?p():Promise.resolve().then(()=>D(0)),n.noop&&(d.noop=!0),d}function W(n,t,e){e!==!0&&(n[t]=typeof e=="function"?e:()=>{})}const At={parse(n){return n.split("&").reduce((t,e)=>{const r=e.split("=");return t[r[0]]=decodeURIComponent(r[1]),t},{})},stringify(n){return Object.keys(n).reduce((t,e)=>(n[e]!==void 0&&t.push(e+"="+encodeURIComponent(n[e])),t),[]).join("&")}};function kt(n,t){if(n instanceof RegExp)return{keys:!1,pattern:n};var e,r,o,s,i=[],c="",a=n.split("/");for(a[0]||a.shift();o=a.shift();)e=o[0],e==="*"?(i.push(e),c+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):e===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+o.substring(s))):c+="/"+o;return{keys:i,pattern:new RegExp("^"+c+"/?$","i")}}const z=/:(\w+)\*/;function _t(n){const t=z.exec(n),e=t?n.replace(z,"*"):n,{pattern:r,keys:o}=kt(e),s=t?o.map(i=>i==="*"?t[1]:i):o;return{matcher:r,paramNames:s}}class It{constructor(t={}){this.nextId=1,this.state={},this.middleware=[],this.options=E({location:"browser",logError:!0,qs:At,patternCompiler:_t},t),W(this,"log",this.options.log),W(this,"logError",this.options.logError),t.routes&&this.map(t.routes)}use(t,e={}){const r=typeof t=="function"?{resolve:t}:t;return typeof e.at=="number"?this.middleware.splice(e.at,0,r):this.middleware.push(r),r.create&&r.create(this),this}map(t){this.routes=Array.isArray(t)?Y(t):gt(t);const e=this.matchers=[],r={},o={};s({routes:this.routes},[],i=>{let c=i.reduce((l,u)=>(u.path[0]==="/"?u.path:`${l}/${u.path}`).replace(/\/$/,""),"");c===""&&(c="/");const a=i[i.length-1];if(a.options.abstract){o[c]=a.name;return}if(a.path===""){let l;e.some(u=>{if(u.path===c)return l=u,!0}),l?l.routes=i:o[c]&&e.push({routes:i,name:o[c],path:c})}if(e.push({routes:i,name:a.name,path:c}),r[c]&&a.path!=="")throw new Error(`Routes ${r[c]} and ${a.name} have the same url path '${c}'`);r[c]=a.name});function s(i,c,a){i.routes.forEach(l=>{a(c.concat(l)),l.routes.length&&s(l,c.concat(l),a)})}return this}listen(t){const e=this.location=this.createLocation(t||"");return e.onChange(r=>{const o=this.state.path;this.dispatch(r).catch(s=>(s&&s.type===T&&this.location.replaceURL(o,{trigger:!1}),s))}),this.dispatch(e.getURL())}transitionTo(t,e,r){return this.state.activeTransition?this.replaceWith(t,e,r):this.doTransition("setURL",t,e,r)}replaceWith(t,e,r){return this.doTransition("replaceURL",t,e,r)}generate(t,e,r){k(this.location,"call .listen() before using .generate()");let o;if(r=r||{},this.matchers.forEach(i=>{i.name===t&&(o=i)}),!o)throw new Error(`No route is named ${t}`);const s=Ct(this.options.qs,Et(o.path,e),r);return this.location.formatURL(s)}destroy(){this.location&&this.location.destroy&&this.location.destroy(),this.state.activeTransition&&this.state.activeTransition.cancel(),this.state={},this.middleware.forEach(t=>{t.destroy&&t.destroy(this)})}isActive(t,e,r,o){const s=this.state.routes||[],i=this.state.params,c=this.state.query;let a=s.some(l=>l.name===t)&&(!o||s[s.length-1].name===t);return a=a&&(!e||S(e).every(l=>i[l]===e[l])),a=a&&(!r||S(r).every(l=>c[l]===r[l])),a}doTransition(t,e,r,o){const s=this.location.getURL();let i=e;i[0]!=="/"&&(i=this.generate(e,r,o),i=i.replace(/^#/,"/")),this.options.pushState&&(i=this.location.removeRoot(i));const c=this.dispatch(i);return c.catch(a=>(a&&a.type===T&&this.location.replaceURL(s,{trigger:!1}),a)),this.location[t](i,{trigger:!1}),c}match(t){t=(t||"").replace(/\/$/,"")||"/";let e,r=[];const o=nt(t),{qs:s,patternCompiler:i}=this.options;return this.matchers.some(a=>{if(e=bt(a.path,o,i),e)return r=a.routes,!0}),{routes:r.map(c),params:e||{},pathname:o,query:Rt(s,t)||{}};function c(a){return{name:a.name,path:a.path,params:H(e,vt(a.path,i)),options:b(a.options)}}}dispatch(t){const e=this.match(t),r=e.query,o=e.pathname,s=this.state.activeTransition;if(s&&s.pathname===o&&F(s.query,r))return s;if(s){const c=new Error(x);c.type=x,c.nextPath=t,s.cancel(c)}if(!s&&this.state.pathname===o&&F(this.state.query,r))return Q({id:this.nextId++,path:t,match:e,noop:!0,router:this});const i=Q({id:this.nextId++,path:t,match:e,router:this});return this.state.activeTransition=i,i}createLocation(t){const e=this.options.location;if(typeof e!="string")return e;if(e==="browser")return new St(H(this.options,["pushState","root"]));if(e==="memory")return new xt({path:t});throw new Error("Location can be `browser`, `memory` or a custom implementation")}log(...t){console.info(...t)}logError(...t){console.error(...t)}}const qt=Promise.resolve();let y=Object.create(null),I=Object.create(null),U=Object.create(null),q,C,L;function Nt(n){const t=parseFloat(n);return n==t?t:n}function Dt(n,t){let e=n;return e!==void 0&&(t==="number"?e=Nt(n):typeof t=="function"&&(e=t(n))),e}function Mt(n){return{init(t){t(n)}}}function jt(n){q=n,C=n.options.outlet}function Ht(){q=null,y=Object.create(null),I=Object.create(null),U=Object.create(null),L=null}function Ft(n,t){const e=Object.keys(n);return e.length===Object.keys(t).length&&e.every(r=>t[r]===n[r])}function Bt(n){return(n.shadowRoot||n).querySelector(n.constructor.outlet||"router-outlet")}function Vt(){if(L)return L;if(!C)return document.body;if(L=typeof C=="string"?document.querySelector(C):C,!L)throw new Error(`slick-router(wc): Invalid outlet option ${C}`);return L}function Qt(n,t){let e=n.routes[t];for(;e;){if(e.options.component)return y[e.name];e=n.routes[--t]}}function Wt(n,t){let e,r,o;const s=Math.max(n.length,t.length);for(e=0;e<s&&(r=n[e],o=t[e],!(!(r&&o)||r.name!==o.name||!Ft(r.params,o.params)));e++);return e}function rt(n,t,e){for(let r=0;r<t.length;r++){const{route:o}=t[r],s=U[o.name];for(const{hooks:i,set:c}of Object.values(s))i.forEach(a=>{typeof a[e]=="function"&&a[e](n,c)})}}async function A(n,t,e,r){for(let o=0;o<t.length;o++){let s;const{route:i,el:c}=t[o],a=i.options[`${e}${r}`];if(typeof a=="function"&&(s=await a(n),s===!1&&n.cancel()),n.isCancelled)break;const l=c&&c[`${e}Route${r}`];if(typeof l=="function"&&(s=await l.call(c,n),s===!1&&n.cancel()),n.isCancelled)break}}function zt(n){return n&&n.__esModule?n.default:n}function Z(n){return n&&typeof n=="object"?n:Mt(n)}function Zt(n){let t=U[n.name];if(!t){t=U[n.name]=Object.create(null);const e=n.options.properties;if(e)for(const[r,o]of Object.entries(e)){const s=Array.isArray(o)?o.map(Z):[Z(o)],i=(c,a)=>{const l=t[r],u=Dt(c,a);if(l.value===u)return;l.value=u;const f=y[n.name];f&&(f[r]=u),s.forEach(p=>{typeof p.update=="function"&&p.update(u,f)})};t[r]={hooks:s,set:i},s.forEach(c=>{typeof c.init=="function"&&c.init(i)})}}}async function Jt(n){const t=[];for(const e of n){let r=e.options.reuse?y[e.name]:void 0,o=e.options.component;!r&&o&&(typeof o=="function"&&!(o.prototype instanceof HTMLElement)&&(o=I[e.name]||(I[e.name]=zt(await o(e)))),r=typeof o=="string"?document.createElement(o):new o,y[e.name]=r,r.$router=q),Zt(e),t.push({el:r,route:e})}return t}function J(n,t){const e=U[t.name];Object.entries(e).forEach(([r,{value:o}])=>{n[r]=o})}const ot=new WeakSet,K=new WeakMap;async function Kt(n,t,e){const{path:r,pathname:o,routes:s,params:i,query:c}=n,a={path:r,pathname:o,routes:s,params:i,query:c};for(let l=0;l<e;l++){const u=n.routes[l],f=y[u.name];f&&(f.$route=a,J(f,u))}for(let l=0;l<t.length;l++){const{el:u,route:f}=t[l];if(u){const p=Qt(n,e+l-1),m=p?Bt(p):Vt();if(m){const g=K.get(m)||m.firstElementChild;g&&(m.removeChild(g),ot.add(g)),u.$route=a,J(u,f),m.appendChild(u),K.set(m,u),await(u.updateComplete||qt)}}}}function Gt(n,t){let e;for(let r=t.length-1;r>=0;r--){const{route:o,el:s}=t[r];n.some(({route:i})=>i.name===o.name)||(s&&(!e&&!ot.has(s)&&s.remove(),e=!0),y[o.name]=void 0)}}async function Xt(n){const t=n.prev.routes,e=Wt(t,n.routes),r=[];for(let s=t.length-1;s>=e;s--){const i=t[s];r.push({el:y[i.name],route:i})}if(await A(n,r,"before","Leave"),n.isCancelled)return;const o=await Jt(n.routes.slice(e));await A(n,o,"before","Enter"),!n.isCancelled&&(rt(n,o,"enter"),await Kt(n,o,e),Gt(o,r),n.activated=o,n.deactivated=r)}function Yt(n){rt(n,n.deactivated,"leave"),A(n,n.deactivated,"after","Leave"),A(n,n.activated,"after","Enter")}const te={create:jt,destroy:Ht,resolve:Xt,done:Yt};let st;function $(n,t){window.dispatchEvent(new CustomEvent(`${st}${n}`,{detail:t}))}const ee={create:function(n){st=n.options.eventPrefix||"router-"},before:function(n){$("before:transition",{transition:n})},done:function(n){$("transition",{transition:n})},cancel:function(n,t){t.type!=="TransitionRedirected"&&$("abort",{transition:n,error:t})},error:function(n,t){$("abort",{transition:n,error:t}),$("error",{transition:n,error:t})}};function ne(){const n=document.body;n.innerHTML=`
  <div id="app" class="min-h-screen font-sans">
    <c-header></c-header>
    <router-outlet></router-outlet>
  </div>
  <footer class="cu-footer w-full bg-cardiff-dark text-white p-4 mt-8">
    <div class="max-w-4xl mx-auto text-center text-sm">
      <p>Not an official Cardiff University website. This is only a test.</p>
      <p>Created by <a class="underline font-semibold" href="https://github.com/jaredsartin/CUOpenDayTest" target="_blank" rel="noopener noreferrer">Jared Sartin.</p>
    </div>
  </footer>
  `}function re(){ne();const n=[{name:"app",path:"/",children:[{name:"home",path:"",component:"s-landing"},{name:"topic",path:"topic/:topicId",component:"s-topic"},{name:"location-hub",path:"locations",children:[{name:"locations",path:"",component:"s-location-list"},{name:"location",path:":locationId",component:"s-location"}]},{name:"error",path:":path*",component:"s-error"}]}],t=new It({routes:n,pushState:!1,outlet:"router-outlet"});t.use(te),t.use(ee),t.use(pt),t.listen(),window.addEventListener("router-transition",()=>{window.scrollTo(0,0)})}async function G(n){const r=await(await fetch(`/CUOpenDayTest/api/${n}.json`)).json();window.CUEvents=window.CUEvents||{},window.CUEvents[n]=r}Promise.all([G("OpenDay"),G("Locations")]).then(re);
